{"version":3,"sources":["constants.ts","images/rifWhite.svg","images/powered-by-iov.svg","pages/start/ConnectWalletComponent.tsx","images/rifGray.svg","components/ConnectedBar.tsx","pages/safeInteraction/Navigation.tsx","helpers/localStorage/utils.ts","components/Modal.tsx","helpers/missingTypes.ts","helpers/localStorage/transactionBundle.ts","helpers/localStorage/safe.ts","config/index.ts","helpers/safeServiceClient.ts","helpers/transactionListener.ts","images/loading.svg","components/ViewExplorerButton.tsx","components/LoadingComponent.tsx","pages/safeInteraction/transactions/ApprovedModal.tsx","pages/safeInteraction/transactions/ExecutedModal.tsx","pages/safeInteraction/transactions/PublishedModal.tsx","components/CopyValueButton.tsx","components/ValueWithButtons.tsx","images/refresh.svg","pages/safeInteraction/transactions/TransactionDetailComponent.tsx","pages/safeInteraction/transactions/TransactionMenu.tsx","pages/safeInteraction/transactions/TransactionTabHelperText.tsx","pages/safeInteraction/transactions/index.tsx","pages/safeInteraction/Dashboard.tsx","components/ThresholdDropdown.tsx","pages/safeInteraction/policies/ChangeThresholdModal.tsx","pages/safeInteraction/policies/AddOwnerModal.tsx","pages/safeInteraction/policies/RemoveOwnerModal.tsx","pages/safeInteraction/policies/SwapOwnerModal.tsx","images/delete.svg","images/swap.svg","images/edit.svg","pages/safeInteraction/policies/index.tsx","pages/safeInteraction/assets/TransferValueModal.tsx","pages/safeInteraction/assets/TransferTokenModal.tsx","pages/safeInteraction/assets/index.tsx","components/TransactionCreatedModal.tsx","pages/safeInteraction/index.tsx","pages/connectToSafe/CreateSafeComponent.tsx","pages/connectToSafe/ConnectToSafeComponent.tsx","pages/connectToSafe/index.tsx","components/FooterComponent.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["TransactionStatus","Screens","Web3Provider","rLogin","setRLoginResponse","handleError","className","src","rifSafeLogo","alt","onClick","connect","then","rLoginResponse","Promise","all","provider","request","method","response","parseInt","catch","poweredByLogo","ConnectedBar","walletAddress","chainId","rifGray","slice","length","id","chainIdtoString","LocalStorageKeys","Navigation","changeActive","handleLogout","selected","NavigationItem","name","toString","toLowerCase","style","textTransform","DASHBOARD","TRANSACTIONS","ASSETS","POLICY","map","Modal","handleClose","children","EthSignSignature","signer","signature","data","this","replace","setJsonKey","key","value","serializer","localStorage","setItem","setKey","JSON","stringify","getParsedItem","parser","content","getItem","parse","error","console","warn","safeParse","getTransactionKey","safeAddress","serializeTransactionBundles","transactionBundle","serializableObjs","txBundle","transactionSignatures","Array","from","transaction","signatures","entries","parseTransactionBundles","str","tx","safeTx","SafeTransaction","Map","forEach","addSignature","ret","getTransactions","serializeAndStore","storeTransaction","transactionKey","transactions","txIndex","findIndex","hash","removeTransaction","splice","removeItem","getSafeAddressKey","SAFES","getSafeAddresses","getContracts","rinkeby","testnet","local","toEthereumChecksum","address","toChecksumAddress","getSafeService","safe","getChainId","SafeServiceClient","safeTransactionService","safeNonce","safeService","getMultisigTransactions","getAddress","results","transactionResponse","to","safeTxGas","baseGas","gasPrice","nonce","operation","gasToken","refundReceiver","isReject","status","PENDING","isExecuted","EXECUTED","REJECTED","confirmations","safeTxHash","isPublished","convertToBundle","sort","a","b","transactionListener","web3Provider","resolve","reject","checkInterval","setInterval","getTransactionReceipt","clearInterval","Error","err","ViewExplorerButton","url","href","target","rel","xmlns","width","height","viewBox","fill","fillRule","d","LoadingComponent","text","loadingImage","ApprovedModal","ExecutedModal","PublishedModal","CopyButton","copyTextField","useRef","type","current","select","document","execCommand","defaultValue","ref","position","left","ValueWithButtons","CopyValueButton","TransactionDetailComponent","approveTransaction","executeTransaction","rejectTransaction","publishTransaction","useState","showDetails","setShowDetails","setSignatures","threshold","setThreshold","isRefreshing","setIsRefreshing","formatted","setFormatted","useEffect","getApprovals","InputDataDecoder","safeAbi","decodeData","erc20Abi","getThreshold","safeThreshold","confirmation","owner","offChainSigners","keys","isOnChain","getOwnersWhoApprovedTx","signers","onChainSigners","finally","handleApprove","onChain","walletHasSigned","filter","canExecute","colSpan","refreshIcon","disabled","approval","TransactionMenu","handleClick","MenuItem","TransactionTabHelperText","count","screen","TransactionsPanel","updateTransactionBundle","addTransaction","showApprovedModal","setShowApprovedModal","approvedOffChainModal","setApprovedOffChainModal","showExecutedModal","setShowExecutedModal","showPublishedModal","setShowPublishedModal","currentSubTab","setCurrentSubTab","currentTransactions","setCurrentTransactions","setSafeNonce","changeCurrentTab","tran","getNonce","createRejectionTransaction","rejectTx","approveTransactionHash","approveTransactionOffChain","bundle","getTransactionHash","result","getProvider","receipt","transactionHash","signTransaction","handleExecutionTransaction","getSigner","signerAddress","get","proposeTransaction","publishPendingTransaction","currentNonce","isPending","hasDuplicate","t","undefined","Dashboard","balance","setBalance","setNonce","getBalance","ThresholdDropdown","onChange","numberOfOwners","options","index","push","evt","number","ChangeThresholdModal","currentThreshold","handleSubmit","newThreshold","setNewThreshold","AddOwnerModal","newOwner","setNewOwner","isAddress","RemoveOwnerModal","removeAddress","SwapOwnerModal","oldAddress","PolicyComponent","owners","setOwners","addNewOwner","setAddNewOwner","changeThreshold","setChangeThreshold","removeOwner","setRemoveOwner","swapOwner","setSwapOwner","getOwners","afterTransaction","deleteIcon","swapIcon","editIcon","getChangeThresholdTx","getAddOwnerTx","getRemoveOwnerTx","getSwapOwnerTx","TransferValueModal","createTransaction","amount","setTransaction","formattedData","TransferTokenModal","token","symbol","AssetsComponent","showTransfer","setShowTransfer","showTokenTransfer","setShowTokenTransfer","tokens","setTokens","getSafeBalance","getERC2Balance","decimals","contractAddress","rifToken","Contract","balanceOf","updateToken","Math","pow","newTokenList","find","findToken","log","ERC20TransactionBuilder","create","txBuilder","bigAmount","BigNumber","mul","transfer","TransactionCreatedModal","closeModal","changeScreen","SafeInteraction","selectedTab","setSelectedTab","showTransactionInfo","setShowTransactionInfo","appNonce","setAppNonce","bundles","mergeTransactions","setTransactions","localTransactions","getTransactionsFromLocalStorage","allTransactions","sortAndSetTransactions","nonceSorted","incomingTransaction","incomingTxBundle","newTransactionList","list","updatedTxBundle","CreateSafeComponent","connectAddress","createSafe","addresses","setAddresses","changeAddressValue","changeIndex","updateList","item","_item","items","loopOptions","errorList","ConnectToSafeComponent","connectToSafe","pastSafes","setSafeAddress","ChooseSafe","handleSetSafe","isCreate","setIsCreate","isLoading","setIsLoading","setPastSafes","contracts","ethers","providers","EthersSafeFactory","proxyFactoryAddress","safeSingletonAddress","EthersSafe","FooterComponent","version","RLogin","cacheProvider","supportedChains","App","setError","setSafe","setAddress","setChainId","message","on","accounts","safeAddressKey","safes","includes","saveSafeAddressToLocalStorage","disconnect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4fc988f0.chunk.js","sourcesContent":["/* eslint-disable no-unused-vars */\n\nexport enum TransactionStatus {\n  PENDING = 'Pending',\n  EXECUTED = 'Executed',\n  REJECTED = 'Rejected'\n}\n\nexport enum Screens {\n  DASHBOARD = 'DASHBOARD',\n  TRANSACTIONS = 'TRANSACTIONS',\n  ASSETS = 'ASSETS',\n  POLICY = 'POLICY'\n}\n","export default __webpack_public_path__ + \"static/media/rifWhite.85d0f2d8.svg\";","export default __webpack_public_path__ + \"static/media/powered-by-iov.a0397e40.svg\";","import React from 'react'\nimport { RLoginButton } from '@rsksmart/rlogin'\nimport rifSafeLogo from '../../images/rifWhite.svg'\nimport poweredByLogo from '../../images/powered-by-iov.svg'\n\ninterface Interface {\n  rLogin: any\n  setRLoginResponse: (response: any, address: string, chainId: number) => void\n  handleError: (error: Error) => void\n}\n\nconst Web3Provider: React.FC<Interface> = ({ rLogin, setRLoginResponse, handleError }) => {\n  const handleLogin = () =>\n    rLogin.connect()\n      .then((rLoginResponse: any) => {\n        Promise.all([\n          rLoginResponse.provider.request({ method: 'eth_accounts' }),\n          rLoginResponse.provider.request({ method: 'eth_chainId' })\n        ]).then((response: any) => {\n          setRLoginResponse(rLoginResponse, response[0][0], parseInt(response[1]))\n        })\n      })\n      .catch(handleError)\n\n  return (\n    <section className=\"login\">\n      <div className=\"logo\">\n        <img src={rifSafeLogo} alt=\"RIF\" />\n        Safe and Vault Sample App\n      </div>\n      <h2>Login with your wallet</h2>\n      <p><RLoginButton onClick={handleLogin}>Connect with rLogin!</RLoginButton></p>\n      <img src={poweredByLogo} alt=\"Powered by IOV Labs\" />\n      <p className=\"legal\">Copyright Â© 2021 IOV Labs. All rights reserved.</p>\n    </section>\n  )\n}\n\nexport default Web3Provider\n","export default __webpack_public_path__ + \"static/media/rifGray.3588d3de.svg\";","import React from 'react'\nimport rifGray from '../images/rifGray.svg'\n\ninterface Interface {\n  chainId: number | null\n  walletAddress: string | null\n}\n\nconst ConnectedBar: React.FC<Interface> = ({ walletAddress, chainId }) => {\n  const chainIdtoString = (id: number) => {\n    switch (id) {\n      case 4: return 'Rinkeby Testnet'\n      case 31: return 'RSK Testnet'\n      case 30: return 'RSK Mainnet'\n      default: return 'Local'\n    }\n  }\n  return (\n    <section className=\"header\">\n      <ul className=\"inline\">\n        <li className=\"logo\">\n          <img src={rifGray} alt=\"RIF Safe\" />\n          Safe and Vault Sample App\n        </li>\n        {walletAddress && (\n          <li className=\"address\">\n            {`${walletAddress.slice(0, 8)}...${walletAddress.slice(walletAddress.length - 6)}`}\n          </li>\n        )}\n        <li className=\"chainId\"><span>{chainId && chainIdtoString(chainId)}</span></li>\n      </ul>\n    </section>\n  )\n}\n\nexport default ConnectedBar\n","import React from 'react'\nimport { Screens } from '../../constants'\n\ninterface Interface {\n  handleLogout: () => void\n  changeActive: (screen: Screens) => void\n  selected: Screens\n}\n\nconst Navigation: React.FC<Interface> = ({ changeActive, handleLogout, selected }) => {\n  const NavigationItem: React.FC<{ name: Screens }> = ({ name }) => {\n    const toString = name.toString().toLowerCase()\n    return (\n      <li>\n        <button\n          style={{ textTransform: 'capitalize' }}\n          className={selected === name ? `selected ${toString}` : toString}\n          onClick={() => changeActive(name)}\n        >{toString}</button>\n      </li>\n    )\n  }\n\n  return (\n    <ul className=\"navigation\">\n      {[Screens.DASHBOARD, Screens.TRANSACTIONS, Screens.ASSETS, Screens.POLICY]\n        .map((name: Screens) =>\n          <NavigationItem key={name} name={name} />\n        )}\n      <li className=\"logout\"><button onClick={handleLogout}>Disconnect Wallet</button></li>\n    </ul>\n  )\n}\n\nexport default Navigation\n","/* eslint-disable no-unused-vars */\nexport enum LocalStorageKeys {\n    SAFES = 'SAFES',\n    TRANSACTIONS = 'TRANSACTIONS',\n  }\n\nexport const setKey = (key: string, value: string) => localStorage.setItem(key, value)\n\nexport const removeKey = (key: string) => localStorage.removeItem(key)\n\nexport const setJsonKey = (key: string, value: any, serializer?: (value: any) => string) => {\n  const serializedValue = serializer ? serializer(value) : JSON.stringify(value)\n  setKey(key, serializedValue)\n}\n\nexport const safeParse = <T>(content: string): T[] | null => {\n  try {\n    return JSON.parse(content)\n  } catch (error) {\n    console.warn('Error on parsing localstorage content', content)\n    return null\n  }\n}\n\nexport const getParsedItem = <T>(key: string, parser?: (content: string) => T[]): T[] | null => {\n  const content = localStorage.getItem(key)\n  if (!content) {\n    return null\n  }\n  return parser ? parser(content) : safeParse(content)\n}\n","import React, { ReactNode } from 'react'\n\ninterface Interface {\n  handleClose?: () => void\n  children: ReactNode\n}\n\nconst Modal: React.FC<Interface> = ({ handleClose, children }) => {\n  return (\n    <div className=\"modal\">\n      <div className=\"modalBody\">\n        <div className=\"modalHeader\">\n          {handleClose && <button className=\"close\" onClick={handleClose}>x</button>}\n        </div>\n        <div className=\"modalContent\">\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Modal\n","import { SafeSignature } from '@gnosis.pm/safe-core-sdk/'\n\n// The package '@gnosis.pm/safe-service-client' doesn't export the type SafeMultisigConfirmationResponse\nexport declare type SafeMultisigConfirmationResponse = {\n    readonly owner: string;\n    readonly submissionDate: string;\n    readonly transactionHash?: string;\n    readonly confirmationType?: string;\n    readonly signature: string;\n    readonly signatureType?: string;\n  };\n\n// The package '@gnosis.pm/safe-core-sdk/' doesn't export the class EthSignSignature\nexport class EthSignSignature implements SafeSignature {\n  signer: string\n  data: string\n\n  /**\n   * Creates an instance of a Safe signature.\n   *\n   * @param signer - Ethers signer\n   * @param signature - The Safe signature\n   * @returns The Safe signature instance\n   */\n  constructor (signer: string, signature: string) {\n    this.signer = signer\n    this.data = signature.replace(/1b$/, '1f').replace(/1c$/, '20')\n  }\n\n  /**\n   * Returns the static part of the Safe signature.\n   *\n   * @returns The static part of the Safe signature\n   */\n  staticPart (/* dynamicOffset: number */) {\n    return this.data\n  }\n\n  /**\n   * Returns the dynamic part of the Safe signature.\n   *\n   * @returns The dynamic part of the Safe signature\n   */\n  dynamicPart () {\n    return ''\n  }\n}\n","import { SafeSignature, SafeTransaction } from '@gnosis.pm/safe-core-sdk'\nimport { TransactionBundle } from '../../pages/safeInteraction'\nimport { EthSignSignature } from '../missingTypes'\nimport { getParsedItem, LocalStorageKeys, removeKey, setJsonKey } from './utils'\n\nconst getTransactionKey = (safeAddress: string) =>\n  `${LocalStorageKeys.TRANSACTIONS}_${safeAddress.toLowerCase()}`\n\nconst serializeTransactionBundles = (transactionBundle: TransactionBundle[]) => {\n  const serializableObjs = transactionBundle.map(txBundle => ({\n    ...txBundle,\n    transactionSignatures: Array.from(txBundle.transaction.signatures.entries())\n  }))\n  return JSON.stringify(serializableObjs)\n}\n\nconst parseTransactionBundles = (str: string): TransactionBundle[] => {\n  const content = JSON.parse(str)\n  return content.map((tx: any) => {\n    const safeTx = new SafeTransaction(tx.transaction.data)\n    const signatures = new Map<string, SafeSignature>(tx.transactionSignatures)\n    signatures.forEach((value) => {\n      const signature = new EthSignSignature(value.signer, value.data)\n      safeTx.addSignature(signature)\n    })\n    const { transactionSignatures, ...ret } = tx\n    ret.transaction = safeTx\n    return ret\n  })\n}\n\nexport const getTransactions = (safeAddress: string) => {\n  const storedTransactions = getParsedItem<TransactionBundle>(getTransactionKey(safeAddress), parseTransactionBundles)\n  return storedTransactions\n}\n\nconst serializeAndStore = (key: string, value: TransactionBundle[]) => {\n  return setJsonKey(key, value, serializeTransactionBundles)\n}\n\nexport const storeTransaction = (\n  safeAddress: string,\n  transaction: TransactionBundle\n) => {\n  const transactionKey = getTransactionKey(safeAddress)\n  const transactions = getTransactions(safeAddress)\n  if (!transactions) {\n    return serializeAndStore(transactionKey, [transaction])\n  }\n  const txIndex = transactions.findIndex(\n    (tx) => tx.hash === transaction.hash\n  )\n  if (txIndex === -1) {\n    // item not found, store it as new item\n    serializeAndStore(transactionKey, [...transactions, transaction])\n  } else {\n    // item found, replace the old one\n    transactions[txIndex] = transaction\n    serializeAndStore(transactionKey, transactions)\n  }\n}\n\nexport const removeTransaction = (\n  safeAddress: string,\n  transaction: TransactionBundle\n) => {\n  const transactionKey = getTransactionKey(safeAddress)\n  const transactions = getTransactions(safeAddress)\n  if (!transactions) {\n    return\n  }\n  const txIndex = transactions.findIndex(\n    (tx) => tx.hash === transaction.hash\n  )\n  if (txIndex < 0 || txIndex >= transactions.length) {\n    return\n  }\n  transactions.splice(txIndex, 1)\n  if (transactions.length === 0) {\n    return removeKey(transactionKey)\n  }\n  serializeAndStore(transactionKey, transactions)\n}\n","import { getParsedItem, LocalStorageKeys, setJsonKey } from './utils'\n\nconst getSafeAddressKey = (chainId: number) =>\n  `${LocalStorageKeys.SAFES}_${chainId.toString()}`\n\nexport const getSafeAddresses = (chainId: number) => {\n  return getParsedItem<string>(getSafeAddressKey(chainId)) || []\n}\n\nexport const saveSafeAddressToLocalStorage = (\n  safeAddress: string,\n  chainId: number\n) => {\n  const safeAddressKey = getSafeAddressKey(chainId)\n  const safes = getSafeAddresses(chainId)\n  if (!safes) {\n    return setJsonKey(safeAddressKey, [safeAddress.toLowerCase()])\n  }\n\n  return !safes.includes(safeAddress.toLowerCase())\n    ? setJsonKey(safeAddressKey, [...safes, safeAddress.toLowerCase()])\n    : null\n}\n","import local from './local.json'\nimport testnet from './testnet.json'\nimport rinkeby from './rinkeby.json'\n\nexport const getContracts = (chainId: number) => {\n  switch (chainId) {\n    case 4: return rinkeby\n    case 31: return testnet\n    default: return local\n  }\n}\n","import { Safe, SafeTransaction } from '@gnosis.pm/safe-core-sdk'\nimport SafeServiceClient, { SafeMultisigTransactionListResponse, SafeMultisigTransactionResponse } from '@gnosis.pm/safe-service-client'\nimport { toChecksumAddress } from '@rsksmart/rsk-utils'\nimport { getContracts } from '../config'\nimport { TransactionStatus } from '../constants'\nimport { TransactionBundle } from '../pages/safeInteraction'\n\n// the transaction service requires the Ethereum checksum\nconst toEthereumChecksum = (address: string) => toChecksumAddress(address)\n\n// create the safe service client:\nconst getSafeService = (safe: Safe) =>\n  safe.getChainId().then((chainId: number) =>\n    new SafeServiceClient(getContracts(chainId).safeTransactionService))\n\n// Convert the response from the transaction service to our Sample Apps \"TransactionBundle\"\nconst convertToBundle = (transactionResponse: SafeMultisigTransactionResponse, safeNonce: number) => {\n  const transaction = new SafeTransaction({\n    to: transactionResponse.to,\n    value: transactionResponse.value,\n    data: transactionResponse.data || '0x',\n    safeTxGas: transactionResponse.safeTxGas,\n    baseGas: transactionResponse.baseGas,\n    gasPrice: parseInt(transactionResponse.gasPrice),\n    nonce: transactionResponse.nonce,\n    operation: transactionResponse.operation,\n    gasToken: transactionResponse.gasToken,\n    refundReceiver: transactionResponse.refundReceiver || ''\n  })\n\n  const isReject = (\n    transactionResponse.to.toLowerCase() === transactionResponse.safe.toLowerCase() &&\n    transactionResponse.value === '0' &&\n    !transactionResponse.data)\n\n  // Transaction Status\n  let status = TransactionStatus.PENDING\n  if (transactionResponse.isExecuted) {\n    status = TransactionStatus.EXECUTED\n  } else if (transactionResponse.nonce < safeNonce) {\n    status = TransactionStatus.REJECTED\n  }\n  const { confirmations } = transactionResponse\n\n  const response: TransactionBundle = {\n    transaction,\n    hash: transactionResponse.safeTxHash,\n    status,\n    isReject,\n    isPublished: true,\n    confirmations\n  }\n\n  return response\n}\n\nexport const getTransactions = (safe: Safe, safeNonce: number) =>\n  getSafeService(safe).then((safeService: SafeServiceClient) =>\n    safeService.getMultisigTransactions(toEthereumChecksum(safe.getAddress()))\n      .then((value: SafeMultisigTransactionListResponse) => {\n        if (value.results.length === 0) return []\n\n        // convert the response into a bundles\n        const bundleArray = value.results.map((transaction: SafeMultisigTransactionResponse) =>\n          convertToBundle(transaction, safeNonce))\n\n        // sort by nonce\n        return bundleArray.sort((a: TransactionBundle, b: TransactionBundle) =>\n          (a.transaction.data.nonce > b.transaction.data.nonce) ? 1 : -1)\n      }))\n\nexport const publishPendingTransaction = (\n  bundle: TransactionBundle,\n  safe: Safe\n) => new Promise((resolve, reject) =>\n  // get the signer to get the signature later\n  safe.getSigner()?.getAddress().then((signerAddress: string) => {\n    // get the signature on the transaction\n    const signature = bundle.transaction.signatures.get(signerAddress.toLowerCase())\n\n    if (!signature) { reject(new Error('Current account is not a signer on the transaction. Sign the transaction off-chain to publish to the transaction service.')) }\n\n    signature && getSafeService(safe).then((safeService: SafeServiceClient) =>\n      safeService.proposeTransaction(\n        toEthereumChecksum(safe.getAddress()),\n        {\n          ...bundle.transaction.data,\n          to: toEthereumChecksum(bundle.transaction.data.to)\n        },\n        bundle.hash,\n        signature\n      )\n        .then((value: any) =>\n          value === '' ? resolve(true) : reject(new Error(JSON.stringify(value))))\n        .catch((err: Error) => reject(err))\n    )\n  })\n)\n","import { Provider, TransactionReceipt } from '@ethersproject/providers'\n\nexport const transactionListener = (web3Provider: Provider, tx: string) =>\n  new Promise((resolve, reject) => {\n    const checkInterval = setInterval(() =>\n      web3Provider.getTransactionReceipt(tx)\n        .then((response: TransactionReceipt) => {\n          if (response) {\n            clearInterval(checkInterval)\n            response.status && response.status === 1 ? resolve(response) : reject(new Error('Transaction Failed'))\n          }\n        })\n        .catch((err: Error) => reject(err))\n    , 2000)\n  })\n","export default __webpack_public_path__ + \"static/media/loading.06d7c63f.svg\";","import React from 'react'\n\ninterface Interface {\n  address?: string\n  tx?: string\n}\n\nconst ViewExplorerButton: React.FC<Interface> = ({ address, tx }) => {\n  const url = address ? `address/${address.toLowerCase()}` : `tx/${tx}`\n  return (\n    <a\n      href={`http://explorer.testnet.rsk.co/${url}`}\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      className=\"icon explorerLink\"\n    >\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><g fill=\"none\" fillRule=\"evenodd\"><path d=\"M0 0H16V16H0z\"></path><path className=\"icon-color\" fillRule=\"nonzero\" d=\"M13 13v-2c0-.552.448-1 1-1s1 .448 1 1v2c0 1.105-.895 2-2 2H3c-1.105 0-2-.895-2-2V3c0-1.105.895-2 2-2h2c.552 0 1 .448 1 1s-.448 1-1 1H3v10h10z\"></path><path className=\"icon-color\" d=\"M11.586 3H9c-.552 0-1-.448-1-1s.448-1 1-1h5c.276 0 .526.112.707.293.181.18.293.43.293.707v5c0 .552-.448 1-1 1s-1-.448-1-1V4.414l-6.243 6.243c-.39.39-1.023.39-1.414 0-.39-.39-.39-1.024 0-1.414L11.586 3z\"></path></g></svg>\n    </a>\n  )\n}\n\nexport default ViewExplorerButton\n","import React from 'react'\nimport loadingImage from '../images/loading.svg'\nimport ViewExplorerButton from './ViewExplorerButton'\n\ninterface Interface {\n  text?: string\n  hash?: string\n}\n\nconst LoadingComponent: React.FC<Interface> = ({ text, hash }) => {\n  return (\n    <div className=\"loading\">\n      <p><img src={loadingImage} alt=\"Loading...\" /></p>\n      {(text || hash) && (\n        <p>\n          {text}\n          {hash && <> View it on the explorer <ViewExplorerButton tx={hash} /></>}\n        </p>\n      )}\n    </div>\n  )\n}\n\nexport default LoadingComponent\n","import React from 'react'\nimport LoadingComponent from '../../../components/LoadingComponent'\nimport Modal from '../../../components/Modal'\nimport ViewExplorerButton from '../../../components/ViewExplorerButton'\n\ninterface Interface {\n  handleClose: () => void\n  hash: string\n}\n\nconst ApprovedModal: React.FC<Interface> = ({ hash, handleClose }) => {\n  if (hash === 'LOADING') {\n    return (\n      <Modal>\n        <LoadingComponent text=\"Adding the signature to the transaction.\" />\n      </Modal>\n    )\n  }\n\n  return (\n    <Modal handleClose={handleClose}>\n      <h2>Transaction Approved</h2>\n      <p>Your signature has been added to this transaction! This is the hash of the transaction:</p>\n      <p>\n        <span className=\"readonly\">{hash}</span>\n        <ViewExplorerButton tx={hash} />\n      </p>\n      <p><button onClick={handleClose}>Close modal</button></p>\n    </Modal>\n  )\n}\n\nexport default ApprovedModal\n","import React from 'react'\nimport LoadingComponent from '../../../components/LoadingComponent'\nimport Modal from '../../../components/Modal'\nimport ViewExplorerButton from '../../../components/ViewExplorerButton'\n\ninterface Interface {\n  handleClose: () => void\n  status: { hash?: string, status?: string }\n}\n\nconst ExecutedModal: React.FC<Interface> = ({ handleClose, status }) => {\n  if (status.status === 'LOADING') {\n    return (\n      <Modal>\n        <LoadingComponent text=\"Executing the transaction.\" hash={status.hash} />\n      </Modal>\n    )\n  }\n\n  return (\n    <Modal handleClose={handleClose}>\n      <h2>Transaction executed</h2>\n      <p>This is the hash of the transaction:</p>\n      <p>\n        <span className=\"readonly\">{status.hash}</span>\n        <ViewExplorerButton tx={status.hash} />\n      </p>\n      <p><button onClick={handleClose}>Close modal</button></p>\n    </Modal>\n  )\n}\n\nexport default ExecutedModal\n","import React from 'react'\nimport Modal from '../../../components/Modal'\n\ninterface Interface {\n  handleClose: () => void\n}\n\nconst PublishedModal: React.FC<Interface> = ({ handleClose }) => {\n  return (\n    <Modal handleClose={handleClose}>\n      <h2>Transaction Published</h2>\n      <p>The transaction has been published to the service for others to see.</p>\n    </Modal>\n  )\n}\n\nexport default PublishedModal\n","import React, { useRef } from 'react'\n\ninterface CopyButtonInterface {\n  value: string\n}\n\nconst CopyButton: React.FC<CopyButtonInterface> = ({ value }) => {\n  const copyTextField = useRef<HTMLInputElement>(null)\n\n  const handleClick = () => {\n    copyTextField.current && copyTextField.current.select()\n    document.execCommand('copy')\n  }\n\n  return (\n    <span className=\"copyButton\">\n      <button type=\"button\" className=\"icon\" onClick={handleClick}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><g fill=\"none\" fillRule=\"evenodd\"><path d=\"M0 0H16V16H0z\"></path><path className=\"icon-color\" fillRule=\"nonzero\" d=\"M10 10h3V3H8v1c1.105 0 2 .895 2 2v4zM6 4V3c0-1.105.895-2 2-2h5c1.105 0 2 .895 2 2v7c0 1.105-.895 2-2 2h-3v1c0 1.105-.895 2-2 2H3c-1.105 0-2-.895-2-2V6c0-1.105.895-2 2-2h3zM3 6v7h5V6H3z\"></path></g></svg>\n      </button>\n\n      <input\n        type=\"text\"\n        className=\"copyText\"\n        defaultValue={value}\n        ref={copyTextField}\n        style={{ position: 'absolute', left: '-10000px' }}\n      />\n    </span>\n  )\n}\n\nexport default CopyButton\n","import React from 'react'\nimport CopyValueButton from './CopyValueButton'\nimport ViewExplorerButton from './ViewExplorerButton'\n\ninterface Interface {\n  value: string\n}\n\nconst ValueWithButtons: React.FC<Interface> = ({ value }) => {\n  return (\n    <>\n      {value}\n      <CopyValueButton value={value} />\n      <ViewExplorerButton address={value} />\n    </>\n  )\n}\n\nexport default ValueWithButtons\n","export default __webpack_public_path__ + \"static/media/refresh.7a8b3bf4.svg\";","import { Safe, SafeTransaction } from '@gnosis.pm/safe-core-sdk'\nimport React, { useEffect, useState } from 'react'\nimport ValueWithButtons from '../../../components/ValueWithButtons'\nimport refreshIcon from '../../../images/refresh.svg'\n\nimport safeAbi from '@gnosis.pm/safe-core-sdk/dist/src/abis/SafeAbiV1-2-0.json'\nimport erc20Abi from '../assets/erc20.json'\nimport InputDataDecoder from 'ethereum-input-data-decoder'\nimport { TransactionBundle } from '..'\nimport CopyValueButton from '../../../components/CopyValueButton'\nimport { TransactionStatus } from '../../../constants'\nimport { EthSignSignature } from '@gnosis.pm/safe-core-sdk/dist/src/utils/signatures/SafeSignature'\n\ninterface Interface {\n  safe: Safe\n  transactionBundle: TransactionBundle\n  walletAddress: string\n  approveTransaction?: (transaction: TransactionBundle, onChain: boolean) => Promise<any>\n  executeTransaction?: (transactionBundle: TransactionBundle) => void\n  rejectTransaction?: (transaction: SafeTransaction) => void\n  publishTransaction?: (transaction: TransactionBundle) => void\n  handleError?: (error: Error) => void\n}\n\ninterface SignatureType {\n  signature: string,\n  isOnChain: boolean\n}\n\nconst TransactionDetailComponent: React.FC<Interface> = ({\n  safe, transactionBundle, walletAddress, handleError, approveTransaction, executeTransaction, rejectTransaction, publishTransaction\n}) => {\n  const { transaction, hash, confirmations } = transactionBundle\n\n  const [showDetails, setShowDetails] = useState<boolean>(false)\n  const [signatures, setSignatures] = useState<SignatureType[]>([])\n  const [threshold, setThreshold] = useState<number>(0)\n  const [isRefreshing, setIsRefreshing] = useState<boolean>(false)\n  const [formatted, setFormatted] = useState<any>(null)\n\n  useEffect(() => {\n    // get transaction approvals\n    getApprovals()\n\n    // try to decode the data\n    const formatted = new InputDataDecoder(safeAbi).decodeData(transaction.data.data)\n    if (formatted.method) {\n      setFormatted(formatted)\n    } else {\n      setFormatted(new InputDataDecoder(erc20Abi).decodeData(transaction.data.data))\n    }\n\n    safe.getThreshold().then((safeThreshold: number) => setThreshold(safeThreshold))\n  }, [transaction])\n\n  const getApprovals = () => {\n    setIsRefreshing(true)\n\n    if (confirmations) {\n      confirmations.forEach((confirmation) => {\n        transaction.addSignature(new EthSignSignature(confirmation.owner, confirmation.signature))\n      })\n    }\n    const offChainSigners = Array.from(transaction.signatures.keys()).map((signature: string) => ({ signature, isOnChain: false }))\n\n    safe.getOwnersWhoApprovedTx(hash)\n      .then((signers: string[]) => {\n        const onChainSigners = signers.map((signature: string) => ({ signature, isOnChain: true }))\n        setSignatures([...offChainSigners, ...onChainSigners])\n      })\n      .catch(handleError)\n      .finally(() => setIsRefreshing(false))\n  }\n\n  const getTransactionName = () => {\n    if (transactionBundle.isReject) {\n      return 'Rejection Transaction'\n    } else if (transaction.data.data === '0x') {\n      return 'Send Value'\n    } else if (formatted.method) {\n      return formatted.method\n    } else {\n      return 'Transaction'\n    }\n  }\n\n  const handleApprove = (onChain: boolean) =>\n    approveTransaction && approveTransaction(transactionBundle, onChain)\n      .then(() => getApprovals())\n\n  const handleReject = () =>\n    rejectTransaction && rejectTransaction(transaction)\n\n  const walletHasSigned = signatures.filter((value: SignatureType) => value.signature.toLowerCase() === walletAddress.toLowerCase()).length === 1\n  const canExecute = threshold > signatures.length\n\n  return (\n    <div className=\"transaction\">\n      <table>\n        <thead>\n          <tr>\n            <th colSpan={2}>{formatted && getTransactionName()}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <th>to:</th>\n            <td>\n              {transaction.data.to === safe.getAddress() && <em>(Safe) </em>}\n              <ValueWithButtons value={transaction.data.to} />\n            </td>\n          </tr>\n          {transactionBundle.status === TransactionStatus.PENDING && (\n            <tr>\n              <th>approvals:</th>\n              <td>\n                {isRefreshing ? 'loading...' : `${signatures.length} out of ${threshold}`}\n                <button className=\"icon\" onClick={getApprovals}>\n                  <img src={refreshIcon} alt=\"refresh\" />\n                </button>\n              </td>\n            </tr>\n          )}\n          {transaction.data.value !== '0' && (\n            <tr>\n              <th>value:</th>\n              <td><p>{transaction.data.value}</p></td>\n            </tr>\n          )}\n          <tr>\n            <th>nonce:</th>\n            <td><p>{transaction.data.nonce}</p></td>\n          </tr>\n        </tbody>\n      </table>\n\n      <div className=\"buttons\">\n        <button onClick={() => setShowDetails(!showDetails)}>{showDetails ? 'hide ' : 'show '}details</button>\n        {approveTransaction && (\n          <>\n            <button\n              disabled={walletHasSigned}\n              onClick={() => handleApprove(true)}>approve on-chain</button>\n            <button\n              disabled={walletHasSigned}\n              onClick={() => handleApprove(false)}>approve off-chain</button>\n            <button\n              disabled={transactionBundle.isPublished}\n              onClick={() => publishTransaction && publishTransaction(transactionBundle)}>Publish</button>\n          </>\n        )}\n        {!transactionBundle.isReject && rejectTransaction && <button\n          onClick={handleReject}\n        >create rejection</button>}\n        {executeTransaction && <button\n          disabled={canExecute}\n          onClick={() => executeTransaction(transactionBundle)}>execute</button>}\n      </div>\n\n      {showDetails && (\n        <table><tbody>\n          <tr>\n            <th>Transaction Hash</th>\n            <td>\n              <p>{hash}<CopyValueButton value={hash} /></p>\n            </td>\n          </tr>\n          {transaction.data.data !== '0x' && (\n            <>\n              <tr>\n                <th>Raw Data</th>\n                <td><p className=\"data\">{transaction.data.data}</p></td>\n              </tr>\n              <tr>\n                <th>Decoded Data</th>\n                <td>\n                  <pre>{JSON.stringify(formatted, null, 2)}</pre>\n                </td>\n              </tr>\n            </>\n          )}\n          <tr>\n            <th>Approvals:</th>\n            <td>\n              {signatures.length === 0 ? <p><em>No signatures</em></p> : (\n                <>\n                  <ol >\n                    {signatures.map((approval: SignatureType) =>\n                      <li key={approval.signature}>\n                        <ValueWithButtons value={approval.signature} />\n                        {`(${approval.isOnChain ? 'on' : 'off'}-chain)`}\n                        {walletAddress.toLowerCase() === approval.signature.toLowerCase() && <em>(Connected Account)</em>}\n                      </li>)}\n                  </ol>\n                </>\n              )}\n            </td>\n          </tr>\n        </tbody></table>\n      )}\n    </div>\n  )\n}\n\nexport default TransactionDetailComponent\n","import React from 'react'\nimport { TransactionStatus } from '../../../constants'\n\ninterface Interface {\n  selected: TransactionStatus,\n  handleClick: (tab: TransactionStatus) => void\n}\n\nconst TransactionMenu: React.FC<Interface> = ({ handleClick, selected }) => {\n  const MenuItem: React.FC<{name: TransactionStatus}> = ({ name }) =>\n    <li>\n      <button\n        onClick={() => handleClick(name)}\n        className={selected === name ? 'selected' : ''}\n      >{name}</button></li>\n\n  return (\n    <ul className=\"inline\">\n      <MenuItem name={TransactionStatus.PENDING} />\n      <MenuItem name={TransactionStatus.EXECUTED} />\n      <MenuItem name={TransactionStatus.REJECTED} />\n    </ul>\n  )\n}\n\nexport default TransactionMenu\n","import React from 'react'\nimport { TransactionStatus } from '../../../constants'\n\ninterface Interface {\n  screen: TransactionStatus\n  count: number\n}\n\nconst TransactionTabHelperText: React.FC<Interface> = ({ count, screen }) => {\n  if (count === 0) {\n    return (\n      <p><em>No {screen.toString()} transactions</em></p>\n    )\n  }\n\n  switch (screen) {\n    case TransactionStatus.PENDING:\n      return (\n        <p>Transactions must be executed in nonce order. Please execute the first transaction before interacting with the next. If you do not want to execute the next transaction, create and execute a rejection transaction which will move to the next nonce.</p>\n      )\n    case TransactionStatus.REJECTED:\n      return (\n        <p>These transactions have a corresponding &quot;Executed&quot; transaction with the same nonce.</p>\n      )\n  }\n\n  return (<></>)\n}\n\nexport default TransactionTabHelperText\n","import { Safe, SafeTransaction } from '@gnosis.pm/safe-core-sdk'\nimport { rejectTx, executeTransaction } from '@rsksmart/safe-transactions-sdk'\nimport { ContractTransaction } from 'ethers'\nimport React, { useEffect, useState } from 'react'\nimport { TransactionBundle } from '..'\nimport Modal from '../../../components/Modal'\nimport { TransactionStatus } from '../../../constants'\nimport { removeTransaction, storeTransaction } from '../../../helpers/localStorage'\nimport { publishPendingTransaction } from '../../../helpers/safeServiceClient'\nimport { transactionListener } from '../../../helpers/transactionListener'\nimport ApprovedModal from './ApprovedModal'\nimport ExecutedModal from './ExecutedModal'\nimport PublishedModal from './PublishedModal'\nimport TransactionDetailComponent from './TransactionDetailComponent'\nimport TransactionMenu from './TransactionMenu'\nimport TransactionTabHelperText from './TransactionTabHelperText'\n\ninterface Interface {\n  safe: Safe\n  handleError: (err: Error) => void\n  addTransaction: (transaction: SafeTransaction, isReject: boolean) => void\n  updateTransactionBundle: (transaction: TransactionBundle) => void\n  transactions: TransactionBundle[]\n  walletAddress: string\n}\n\nconst TransactionsPanel: React.FC<Interface> = ({ safe, handleError, updateTransactionBundle, addTransaction, walletAddress, transactions }) => {\n  const [showApprovedModal, setShowApprovedModal] = useState<string | null>(null)\n  const [approvedOffChainModal, setApprovedOffChainModal] = useState<boolean>(false)\n  const [showExecutedModal, setShowExecutedModal] = useState<{ status: string, hash?: string } | null>(null)\n  const [showPublishedModal, setShowPublishedModal] = useState<boolean>(false)\n\n  const [currentSubTab, setCurrentSubTab] = useState<TransactionStatus>(TransactionStatus.PENDING)\n  const [currentTransactions, setCurrentTransactions] = useState<TransactionBundle[]>([])\n\n  const [safeNonce, setSafeNonce] = useState<number>(0)\n\n  const changeCurrentTab = (name: TransactionStatus) => {\n    setCurrentSubTab(name)\n    setCurrentTransactions(transactions.filter((tran: TransactionBundle) => tran.status === name))\n  }\n\n  useEffect(() => {\n    changeCurrentTab(TransactionStatus.PENDING)\n    safe.getNonce().then((nonce: number) => setSafeNonce(nonce))\n  }, [transactions])\n\n  const createRejectionTransaction = (transaction: SafeTransaction) =>\n    rejectTx(safe, transaction)\n      .then((transaction: SafeTransaction) => addTransaction(transaction, true))\n\n  // Approve/Sign a transaction\n  const approveTransaction = (transaction: TransactionBundle, onChain: boolean) =>\n    onChain ? approveTransactionHash(transaction) : approveTransactionOffChain(transaction)\n\n  // Sign transaction \"on-chain\"\n  const approveTransactionHash = (bundle: TransactionBundle) => {\n    setShowApprovedModal('LOADING')\n\n    return safe.getTransactionHash(bundle.transaction)\n      .then((hash: string) =>\n        safe.approveTransactionHash(hash)\n          .then((result: ContractTransaction) => transactionListener(safe.getProvider(), result.hash))\n          .then((receipt: any) => setShowApprovedModal(receipt.transactionHash)))\n      .catch((err: Error) => {\n        setShowApprovedModal(null)\n        handleError(err)\n      })\n  }\n\n  const approveTransactionOffChain = (bundle: TransactionBundle) =>\n    safe.signTransaction(bundle.transaction)\n      .then(() => {\n        updateTransactionBundle(bundle)\n        storeTransaction(safe.getAddress(), bundle)\n        setApprovedOffChainModal(true)\n      })\n      .catch(handleError)\n\n  // Execute transaction\n  const handleExecutionTransaction = (bundle: TransactionBundle) => {\n    executeTransaction(safe, bundle.transaction)\n      .then((result: ContractTransaction) => {\n        setShowExecutedModal({ status: 'LOADING', hash: result.hash })\n        removeTransaction(safe.getAddress(), bundle)\n        return transactionListener(safe.getProvider(), result.hash)\n      })\n      .then((receipt: any) => {\n        setShowExecutedModal({ status: 'COMPLETE', hash: receipt.transactionHash })\n        updateTransactionBundle({ ...bundle, status: TransactionStatus.EXECUTED })\n      })\n      .catch((err: Error) => {\n        setShowExecutedModal(null)\n        handleError(err)\n      })\n  }\n\n  // publish a transaction to the transaction service:\n  const publishTransaction = (bundle: TransactionBundle) =>\n    publishPendingTransaction(bundle, safe)\n      .then(() => {\n        setShowPublishedModal(true)\n        updateTransactionBundle({ ...bundle, isPublished: true })\n        removeTransaction(safe.getAddress(), bundle)\n      })\n      .catch(handleError)\n\n  return (\n    <>\n      <section className=\"panel\">\n        <h2>Transactions</h2>\n\n        <TransactionMenu\n          selected={currentSubTab}\n          handleClick={changeCurrentTab}\n        />\n\n        <h3>{`${currentSubTab.toString()} Transactions:`}</h3>\n\n        <TransactionTabHelperText count={currentTransactions.length} screen={currentSubTab} />\n\n        {currentTransactions.map((transaction: TransactionBundle) => {\n          const currentNonce = safeNonce === transaction.transaction.data.nonce\n          const isPending = currentSubTab === TransactionStatus.PENDING\n          const hasDuplicate = currentTransactions.filter((t: TransactionBundle) => t.transaction.data.nonce === transaction.transaction.data.nonce).length > 1\n\n          return <TransactionDetailComponent\n            key={transaction.hash}\n            safe={safe}\n            transactionBundle={transaction}\n            walletAddress={walletAddress}\n            handleError={handleError}\n            approveTransaction={currentSubTab === TransactionStatus.PENDING ? approveTransaction : undefined}\n            executeTransaction={(isPending && currentNonce) ? handleExecutionTransaction : undefined}\n            rejectTransaction={(isPending && currentNonce && !hasDuplicate) ? createRejectionTransaction : undefined}\n            publishTransaction={publishTransaction}\n          />\n        })}\n      </section>\n\n      {showApprovedModal && <ApprovedModal hash={showApprovedModal} handleClose={() => setShowApprovedModal(null)} />}\n      {showExecutedModal && <ExecutedModal status={showExecutedModal} handleClose={() => setShowExecutedModal(null)} />}\n      {showPublishedModal && <PublishedModal handleClose={() => setShowPublishedModal(false)} />}\n      {approvedOffChainModal && <Modal handleClose={() => setApprovedOffChainModal(false)}>\n        <h2>Signature Added</h2>\n        <p>Since this is a sample app, this signature will be saved in local state only. It will not be saved if the app refreshed.</p>\n      </Modal>}\n    </>\n  )\n}\n\nexport default TransactionsPanel\n","import { Safe } from '@gnosis.pm/safe-core-sdk'\nimport React, { useEffect, useState } from 'react'\nimport ValueWithButtons from '../../components/ValueWithButtons'\nimport refreshIcon from '../../images/refresh.svg'\n\ninterface Interface {\n  safe: Safe\n}\n\nconst Dashboard: React.FC<Interface> = ({ safe }) => {\n  const [balance, setBalance] = useState<number>(0)\n  const [nonce, setNonce] = useState<number | null>(null)\n\n  useEffect(() => {\n    getBalance()\n    getNonce()\n  }, [safe])\n\n  const getBalance = () => safe.getBalance().then((balance: any) => setBalance(balance))\n  const getNonce = () => safe.getNonce().then((nonce: number) => setNonce(nonce))\n\n  return (\n    <section className=\"panel\">\n      <h2>Safe Dashboard</h2>\n      <table>\n        <tbody>\n          <tr>\n            <th>Safe Address</th>\n            <td><ValueWithButtons value={safe.getAddress()} /></td>\n          </tr>\n          <tr className=\"text\">\n            <th>Balance</th>\n            <td>\n              {(balance / 1000000000000000000).toString()}\n              <button onClick={getBalance} className=\"icon\"><img src={refreshIcon} alt=\"Refresh\" /></button>\n            </td>\n          </tr>\n          {nonce !== null && (\n            <tr className=\"text\">\n              <th>Nonce</th>\n              <td>\n                {nonce.toString()}\n                <button onClick={getNonce} className=\"icon\"><img src={refreshIcon} alt=\"Refresh\" /></button>\n              </td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </section>\n  )\n}\n\nexport default Dashboard\n","import React from 'react'\n\ninterface Interface {\n  value: number\n  onChange: (value: number) => void\n  numberOfOwners: number\n}\n\nconst ThresholdDropdown: React.FC<Interface> = ({ value, onChange, numberOfOwners }) => {\n  const options = []\n  for (let index = 1; index <= numberOfOwners; index++) {\n    options.push(index)\n  }\n\n  const handleChange = (evt: any) => onChange(parseInt(evt.target.value))\n\n  return (\n    <select value={value} onChange={handleChange}>\n      {options.map((number: number) => <option key={number} value={number}>{number}</option>)}\n    </select>\n  )\n}\n\nexport default ThresholdDropdown\n","import React, { useState } from 'react'\nimport ThresholdDropdown from '../../../components/ThresholdDropdown'\n\ninterface Interface {\n  numberOfOwners: number\n  currentThreshold: number\n  handleSubmit: (newThreshold: number) => void\n}\n\nconst ChangeThresholdModal: React.FC<Interface> = ({ numberOfOwners, currentThreshold, handleSubmit }) => {\n  const [newThreshold, setNewThreshold] = useState<number>(currentThreshold)\n\n  const options = []\n  for (let index = 1; index <= numberOfOwners; index++) {\n    options.push(index)\n  }\n\n  return (\n    <div>\n      <h3>Change threshold</h3>\n      <p>Change the number of approvers for a transaction to be executed</p>\n      <label>New threshold:</label>\n      <ThresholdDropdown\n        numberOfOwners={numberOfOwners}\n        value={newThreshold}\n        onChange={(value: number) => setNewThreshold(value)}\n      />\n\n      <p><button onClick={() => handleSubmit(newThreshold)}>Change threshold</button></p>\n    </div>\n  )\n}\n\nexport default ChangeThresholdModal\n","import { isAddress } from '@ethersproject/address'\nimport React, { useState } from 'react'\nimport ThresholdDropdown from '../../../components/ThresholdDropdown'\n\ninterface Interface {\n  numberOfOwners: number\n  handleSubmit: (newOwner: string, newThreshold: number) => void\n  handleError: (err: Error) => void\n}\n\nconst AddOwnerModal: React.FC<Interface> = ({ handleSubmit, handleError, numberOfOwners }) => {\n  const [newOwner, setNewOwner] = useState<string>('')\n  const [newThreshold, setNewThreshold] = useState<number>(numberOfOwners)\n\n  const validateAddress = () => {\n    isAddress(newOwner.toLowerCase())\n      ? handleSubmit(newOwner.toLowerCase(), newThreshold)\n      : handleError(new Error('Value is not an address.'))\n  }\n\n  return (\n    <div>\n      <h3>Add new owner</h3>\n      <label>\n        Address</label>\n      <input type=\"text\" className=\"newOwner\" value={newOwner} onChange={evt => setNewOwner(evt.target.value)} />\n\n      <label>New Threshold</label>\n      <ThresholdDropdown\n        numberOfOwners={numberOfOwners}\n        value={newThreshold}\n        onChange={(value: number) => setNewThreshold(value)}\n      />\n\n      <p><button onClick={validateAddress}>Update</button></p>\n    </div>\n  )\n}\n\nexport default AddOwnerModal\n","import React, { useState } from 'react'\nimport ThresholdDropdown from '../../../components/ThresholdDropdown'\n\ninterface Interface {\n  numberOfOwners: number\n  handleSubmit: (address: string, threshold: number) => void\n  removeAddress: string\n}\n\nconst RemoveOwnerModal: React.FC<Interface> = ({ numberOfOwners, handleSubmit, removeAddress }) => {\n  const [threshold, setThreshold] = useState<number>(numberOfOwners - 1)\n\n  return (\n    <div>\n      <h3>Remove owner</h3>\n      <p>Are you sure you want to remove this owner?</p>\n      <span className=\"readonly\">{removeAddress}</span>\n\n      <p>\n        <label>New threshold:</label>\n        <ThresholdDropdown\n          numberOfOwners={numberOfOwners - 1}\n          value={threshold}\n          onChange={(value: number) => setThreshold(value)} />\n      </p>\n\n      <p><button onClick={() => handleSubmit(removeAddress.toLowerCase(), threshold)}>Remove</button></p>\n    </div>\n  )\n}\n\nexport default RemoveOwnerModal\n","import { isAddress } from '@ethersproject/address'\nimport React, { useState } from 'react'\n\ninterface Interface {\n  handleError: (err: Error) => void\n  handleSubmit: (oldOwner: string, newOwner: string) => void\n  oldAddress: string\n}\n\nconst SwapOwnerModal: React.FC<Interface> = ({ oldAddress, handleError, handleSubmit }) => {\n  const [newOwner, setNewOwner] = useState<string>('')\n\n  const validateAddress = () =>\n    isAddress(newOwner)\n      ? handleSubmit(oldAddress, newOwner.toLowerCase())\n      : handleError(new Error('Address is not valid'))\n\n  return (\n    <div>\n      <h3>Swap Owner</h3>\n      <p>Swap address for a new one.</p>\n      <label>Old Address:</label>\n      <span className=\"readonly\">{oldAddress}</span>\n      <label>New Owner</label>\n      <input type=\"text\" className=\"newAddress\" value={newOwner} onChange={evt => setNewOwner(evt.target.value)} />\n\n      <p><button onClick={validateAddress}>Swap Address</button></p>\n    </div>\n  )\n}\n\nexport default SwapOwnerModal\n","export default __webpack_public_path__ + \"static/media/delete.8970c03e.svg\";","export default __webpack_public_path__ + \"static/media/swap.29d1f400.svg\";","export default __webpack_public_path__ + \"static/media/edit.d3af4af9.svg\";","import React, { useEffect, useState } from 'react'\nimport { Safe, SafeTransaction } from '@gnosis.pm/safe-core-sdk'\nimport ValueWithButtons from '../../../components/ValueWithButtons'\nimport ChangeThresholdModal from './ChangeThresholdModal'\nimport AddOwnerModal from './AddOwnerModal'\nimport RemoveOwnerModal from './RemoveOwnerModal'\nimport SwapOwnerModal from './SwapOwnerModal'\nimport Modal from '../../../components/Modal'\nimport deleteIcon from '../../../images/delete.svg'\nimport swapIcon from '../../../images/swap.svg'\nimport editIcon from '../../../images/edit.svg'\n\ninterface Interface {\n  safe: Safe\n  handleError: (err: Error) => void\n  addTransaction: (transaction: SafeTransaction) => void\n}\n\nconst PolicyComponent: React.FC<Interface> = ({ safe, addTransaction, handleError }) => {\n  // Safe variables:\n  const [owners, setOwners] = useState<string[]>([])\n  const [threshold, setThreshold] = useState<number>(0)\n\n  // UI components:\n  const [addNewOwner, setAddNewOwner] = useState<boolean>(false)\n  const [changeThreshold, setChangeThreshold] = useState<boolean>(false)\n  const [removeOwner, setRemoveOwner] = useState<null | string>(null)\n  const [swapOwner, setSwapOwner] = useState<null | string>(null)\n\n  useEffect(() => {\n    safe.getOwners().then((owners: string[]) => setOwners(owners))\n    safe.getThreshold().then((result: number) => setThreshold(result))\n  }, [safe])\n\n  // Create transaction for changing the thresold:\n  const changeThresholdFunction = (newThreshold: number) =>\n    safe.getChangeThresholdTx(newThreshold)\n      .then((transaction: SafeTransaction) => {\n        addTransaction(transaction)\n        afterTransaction()\n      })\n      .catch(handleError)\n\n  // Add an owner and update threshold:\n  const addOwnerFunction = (newOwner: string, newThreshold: number) =>\n    safe.getAddOwnerTx(newOwner, newThreshold)\n      .then((transaction: SafeTransaction) => {\n        addTransaction(transaction)\n        afterTransaction()\n      })\n      .catch(handleError)\n\n  // remove an owner and update the threshold:\n  const removeOwnerFunction = (removeOwner: string, newThreshold: number) =>\n    safe.getRemoveOwnerTx(removeOwner, newThreshold)\n      .then((transaction: SafeTransaction) => {\n        addTransaction(transaction)\n        afterTransaction()\n      })\n      .catch(handleError)\n\n  // swap one owner for another:\n  const swapOwnerFunction = (swapOwner: string, newOwner: string) =>\n    safe.getSwapOwnerTx(swapOwner, newOwner)\n      .then((transaction: SafeTransaction) => {\n        addTransaction(transaction)\n        afterTransaction()\n      })\n      .catch(handleError)\n\n  // close ALL modals\n  const afterTransaction = () => {\n    setAddNewOwner(false)\n    setChangeThreshold(false)\n    setRemoveOwner(null)\n    setSwapOwner(null)\n  }\n\n  return (\n    <section className=\"section panel\">\n      <h2>Safe Policy</h2>\n      <table>\n        <tbody>\n          <tr>\n            <th>Owners</th>\n            <td>\n              <ul>\n                {owners.map((owner: string) => (\n                  <li key={owner} >\n                    <ValueWithButtons value={owner} />\n                    <button className=\"icon delete\" onClick={() => setRemoveOwner(owner)}>\n                      <img src={deleteIcon} alt=\"delete address\" />\n                    </button>\n                    <button className=\"icon\" onClick={() => setSwapOwner(owner)}>\n                      <img src={swapIcon} alt=\"swap address\" />\n                    </button>\n                  </li>\n                ))}\n              </ul>\n              <button onClick={() => setAddNewOwner(true)}>+ Add Owner</button>\n            </td>\n          </tr>\n          <tr className=\"text\">\n            <th>Threshold</th>\n            <td>\n              {threshold}\n              <button className=\"icon\" onClick={() => setChangeThreshold(true)}>\n                <img src={editIcon} alt=\"edit threshold\" />\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      {changeThreshold && <Modal handleClose={() => setChangeThreshold(false)}><ChangeThresholdModal numberOfOwners={owners.length} currentThreshold={threshold} handleSubmit={changeThresholdFunction} /></Modal>}\n      {addNewOwner && <Modal handleClose={() => setAddNewOwner(false)}><AddOwnerModal numberOfOwners={owners.length} handleSubmit={addOwnerFunction} handleError={handleError} /></Modal>}\n      {removeOwner && <Modal handleClose={() => setRemoveOwner(null)}><RemoveOwnerModal removeAddress={removeOwner} numberOfOwners={owners.length} handleSubmit={removeOwnerFunction} /></Modal>}\n      {swapOwner && <Modal handleClose={() => setSwapOwner(null)}><SwapOwnerModal oldAddress={swapOwner} handleSubmit={swapOwnerFunction} handleError={handleError} /></Modal>}\n    </section>\n  )\n}\n\nexport default PolicyComponent\n","import { isAddress } from '@ethersproject/address'\nimport React, { useState } from 'react'\n\ninterface Interface {\n  createTransaction: (recipient: string, amount: number, data: string) => void\n  handleError: (error: Error | null) => void\n}\n\nconst TransferValueModal: React.FC<Interface> = ({ createTransaction, handleError }) => {\n  const [transaction, setTransaction] = useState<{amount: number, address: string, data: string}>({ amount: 10000, address: '', data: '' })\n\n  const validateTransaction = () => {\n    handleError(null)\n\n    if (!isAddress(transaction.address)) {\n      return handleError(new Error('Recipient is not an address.'))\n    }\n\n    const formattedData = transaction.data === '' ? '0x' : transaction.data\n    createTransaction(\n      transaction.address.toLowerCase(),\n      transaction.amount,\n      formattedData\n    )\n  }\n\n  return (\n    <>\n      <h3>Create Transaction</h3>\n      <p>\n        <label>Recepient address:</label>\n        <input type=\"text\" className=\"to\" value={transaction.address} onChange={evt => setTransaction({ ...transaction, address: evt.target.value })} />\n      </p>\n      <p>\n        <label>Amount:</label>\n        <input type=\"number\" className=\"amount\" value={transaction.amount} onChange={evt => setTransaction({ ...transaction, amount: parseInt(evt.target.value) })} />\n      </p>\n      <p>\n        <label>\n          Data: (optional field used for advanced transactions)\n        </label>\n        <textarea className=\"data\" value={transaction.data} onChange={evt => setTransaction({ ...transaction, data: evt.target.value })} />\n      </p>\n      <button className=\"submit\" onClick={validateTransaction}>Create Transaction</button>\n    </>\n  )\n}\n\nexport default TransferValueModal\n","import { isAddress } from '@ethersproject/address'\nimport React, { useState } from 'react'\nimport { Erc20Token } from '.'\n\ninterface Interface {\n  token: Erc20Token\n  handleError: (err: Error | null) => void\n  createTransaction: (token: Erc20Token, amount: number, to: string) => void\n}\n\nconst TransferTokenModal: React.FC<Interface> = ({ token, createTransaction, handleError }) => {\n  const [transaction, setTransaction] = useState<{amount: number, address: string}>({ amount: 0, address: '' })\n\n  const validateTransaction = () => {\n    handleError(null)\n\n    if (!isAddress(transaction.address)) {\n      return handleError(new Error('Recipient is not an address.'))\n    }\n\n    if (transaction.amount > token.amount || transaction.amount < 1) {\n      return handleError(new Error(`Amount should be between 1 and ${token.amount}.`))\n    }\n\n    return createTransaction(token, transaction.amount, transaction.address.toLowerCase())\n  }\n\n  return (\n    <div>\n      <h2>Transfer ERC20 Token: {token.symbol}</h2>\n      <p>\n        <label>You have:</label>\n        <span className=\"readonly\">{token.amount}</span>\n      </p>\n      <p>\n        <label>Amount to sent:</label>\n        <input type=\"number\" className=\"amount\" value={transaction.amount} onChange={evt => setTransaction({ ...transaction, amount: parseInt(evt.target.value) })} />\n      </p>\n      <p>\n        <label>Recipient address:</label>\n        <input type=\"string\" className=\"recipient\" value={transaction.address} onChange={evt => setTransaction({ ...transaction, address: evt.target.value })} />\n      </p>\n      <p>\n        <button className=\"submit\" onClick={validateTransaction}>\n          Create Transaction\n        </button>\n      </p>\n    </div>\n  )\n}\n\nexport default TransferTokenModal\n","import { Safe, SafeTransaction } from '@gnosis.pm/safe-core-sdk'\nimport { ERC20TransactionBuilder } from '@rsksmart/safe-transactions-sdk'\nimport { BigNumber, Contract } from 'ethers'\nimport React, { useEffect, useState } from 'react'\nimport Modal from '../../../components/Modal'\nimport TransferValueModal from './TransferValueModal'\nimport erc20Abi from './erc20.json'\nimport refreshIcon from '../../../images/refresh.svg'\nimport TransferTokenModal from './TransferTokenModal'\nimport { getContracts } from '../../../config'\n\ninterface Interface {\n  safe: Safe\n  handleError: (err: Error | null) => void\n  addTransaction: (transaction: SafeTransaction) => void\n}\n\nexport interface Erc20Token {\n  symbol: string\n  decimals: number\n  amount: number\n  contractAddress: string\n}\n\nconst AssetsComponent: React.FC<Interface> = ({ safe, addTransaction, handleError }) => {\n  const [showTransfer, setShowTransfer] = useState<boolean>(false)\n  const [showTokenTransfer, setShowTokenTransfer] = useState<Erc20Token | null>(null)\n\n  const [balance, setBalance] = useState<string>('0')\n  const [tokens, setTokens] = useState<any[]>([])\n\n  useEffect(() => {\n    getSafeBalance()\n\n    safe.getChainId().then((chainId: number) =>\n      getERC2Balance({ symbol: 'tRIF', decimals: 18, amount: 0, contractAddress: getContracts(chainId).rifToken }))\n  }, [safe])\n\n  const getSafeBalance = () => safe.getBalance().then((balance: BigNumber) => setBalance(balance.toString()))\n\n  const getERC2Balance = (token: Erc20Token) => {\n    const signer = safe.getSigner()\n    const contract = new Contract(token.contractAddress, erc20Abi, signer)\n    contract.balanceOf(safe.getAddress())\n      .then((result: BigNumber) => result.toString())\n      .then((result: string) => {\n        const updateToken = { ...token, amount: parseInt(result) / Math.pow(10, 18) }\n        const isListed = tokens.find((findToken: Erc20Token) => findToken.symbol === token.symbol)\n\n        const newTokenList = isListed\n          ? tokens.map((findToken: Erc20Token) => findToken.symbol === token.symbol ? updateToken : findToken)\n          : [...tokens, updateToken]\n\n        setTokens(newTokenList)\n      })\n      .catch((err: Error) => console.log('error', err))\n  }\n\n  // Create transaction to send rbtc or data\n  const createTransaction = (to: string, amount: number, data: string) => {\n    handleError(null)\n    safe.createTransaction({\n      to,\n      value: amount.toString(),\n      data\n    })\n      .then((transaction: SafeTransaction) => addTransaction(transaction))\n      .catch(handleError)\n      .finally(() => setShowTransfer(false))\n  }\n\n  // Create transaction to send an ERC20 token:\n  const createTokenTransaction = (token: Erc20Token, amount: number, to: string) => {\n    handleError(null)\n\n    ERC20TransactionBuilder.create(safe, token.contractAddress).then((txBuilder: ERC20TransactionBuilder) => {\n      const bigAmount = BigNumber.from(amount).mul(BigNumber.from(10).pow(token.decimals))\n\n      txBuilder.transfer(to, bigAmount)\n        .then((transaction: SafeTransaction) => addTransaction(transaction))\n        .catch(handleError)\n        .finally(() => setShowTokenTransfer(null))\n    })\n  }\n\n  return (\n    <>\n      <div className=\"panel\">\n        <h2>Assets</h2>\n        <table>\n          <thead>\n            <tr>\n              <th>Asset</th>\n              <th>Amount</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td><p>rBTC</p></td>\n              <td>\n                <p>\n                  {(parseInt(balance) / 1000000000000000000).toString()}\n                  <button className=\"icon\" onClick={getSafeBalance}>\n                    <img src={refreshIcon} alt=\"refresh balance\" />\n                  </button>\n                  <button className=\"icon\" onClick={() => setShowTransfer(true)}>transfer</button>\n                </p>\n              </td>\n            </tr>\n            {tokens.map((token: any) => (\n              <tr key={token.contractAddress}>\n                <td><p>{token.symbol}</p></td>\n                <td>\n                  {token.amount}\n                  <button className=\"icon\" onClick={() => getERC2Balance(token)}>\n                    <img src={refreshIcon} alt=\"refresh balance\" />\n                  </button>\n                  <button className=\"icon\" onClick={() => setShowTokenTransfer(token)}>\n                    transfer\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      {showTransfer && (\n        <Modal handleClose={() => setShowTransfer(false)}>\n          <TransferValueModal\n            createTransaction={createTransaction}\n            handleError={handleError}\n          />\n        </Modal>\n      )}\n      {showTokenTransfer && (\n        <Modal handleClose={() => setShowTokenTransfer(null)}>\n          <TransferTokenModal\n            token={showTokenTransfer}\n            handleError={handleError}\n            createTransaction={createTokenTransaction}\n          />\n        </Modal>\n      )}\n    </>\n  )\n}\n\nexport default AssetsComponent\n","import React from 'react'\nimport Modal from './Modal'\n\ninterface Interface {\n  closeModal: () => void\n  changeScreen: () => void\n}\n\nconst TransactionCreatedModal: React.FC<Interface> = ({ closeModal, changeScreen }) => {\n  return (\n    <Modal handleClose={closeModal}>\n      <h2>Transaction Created</h2>\n      <p>A transaction has been created and added to the transaction panel. You can sign the transaction there, and when enough signatures are collected, execute it.</p>\n      <p>\n        <button onClick={changeScreen}>View Transactions</button>\n      </p>\n    </Modal>\n  )\n}\n\nexport default TransactionCreatedModal\n","import React, { useState, useEffect } from 'react'\nimport { Safe, SafeTransaction } from '@gnosis.pm/safe-core-sdk'\nimport Navigation from './Navigation'\nimport TransactionsPanel from './transactions'\nimport Dashboard from './Dashboard'\nimport PolicyComponent from './policies'\nimport AssetsComponent from './assets'\nimport TransactionCreatedModal from '../../components/TransactionCreatedModal'\nimport { Screens, TransactionStatus } from '../../constants'\nimport { getTransactions } from '../../helpers/safeServiceClient'\nimport { getTransactions as getTransactionsFromLocalStorage, storeTransaction } from '../../helpers/localStorage'\nimport { SafeMultisigConfirmationResponse } from '../../helpers/missingTypes'\n\ninterface Interface {\n  safe: Safe\n  walletAddress: string\n  handleLogout: () => void\n  handleError: (err: Error | null) => void\n}\n\n// Wrapper for transaction to keep track of the status, and hash to be used as an identifier\nexport interface TransactionBundle {\n  transaction: SafeTransaction\n  hash: string\n  status: TransactionStatus\n  isReject: boolean\n  isPublished: boolean,\n  confirmations?: SafeMultisigConfirmationResponse[]\n}\n\nconst SafeInteraction: React.FC<Interface> = ({ safe, walletAddress, handleError, handleLogout }) => {\n  // UI Only\n  const [selectedTab, setSelectedTab] = useState<Screens>(Screens.DASHBOARD)\n  const [showTransactionInfo, setShowTransactionInfo] = useState<boolean>(false)\n  const changeActive = (screen: Screens) => setSelectedTab(screen)\n\n  // Keep track of the Apps transaction nonce, starting with the safe's nonce\n  const [appNonce, setAppNonce] = useState(0)\n\n  useEffect(() => {\n    safe.getNonce().then((nonce: number) => {\n      setAppNonce(nonce)\n\n      // get transactions from the service\n      getTransactions(safe, nonce)\n        .then((bundles: TransactionBundle[]) => {\n          // merge with locally stored transactions\n          mergeTransactions(bundles)\n          // update the app's nonce\n          bundles.length !== 0 &&\n            setAppNonce(bundles[bundles.length - 1].transaction.data.nonce + 1)\n        })\n        .catch(handleError)\n    })\n  }, [safe])\n\n  // Transaction Management, all transactions:\n  const [transactions, setTransactions] = useState<TransactionBundle[]>([])\n\n  const mergeTransactions = (bundles: TransactionBundle[]) => {\n    const localTransactions = (getTransactionsFromLocalStorage(safe.getAddress()) || [])\n    const allTransactions = [...localTransactions, ...bundles]\n    sortAndSetTransactions(allTransactions)\n  }\n\n  const sortAndSetTransactions = (transactions: TransactionBundle[]) => {\n    const nonceSorted = transactions.sort((a: TransactionBundle, b: TransactionBundle) => (a.transaction.data.nonce - b.transaction.data.nonce))\n    setTransactions(nonceSorted)\n  }\n\n  // Add a new PENDING transaction to the list\n  const addTransaction = (incomingTransaction: SafeTransaction, isReject?: boolean) => {\n    // set the correct nonce if there are pending transactions:\n    const transaction = !isReject\n      ? new SafeTransaction({ ...incomingTransaction.data, nonce: appNonce })\n      : incomingTransaction\n\n    // get the hash to be used as an identifier\n    safe.getTransactionHash(transaction)\n      .then((hash: string) => {\n        const incomingTxBundle = { status: TransactionStatus.PENDING, transaction, hash, isReject: isReject || false, isPublished: false }\n        // store the new transaction locally\n        storeTransaction(safe.getAddress(), incomingTxBundle)\n        // create new transaction list\n        const newTransactionList = [...transactions, incomingTxBundle]\n\n        // set the sorted transactions\n        sortAndSetTransactions(newTransactionList)\n        setShowTransactionInfo(true)\n\n        // increase the app's nonce by 1 if it isn't a reject transaction\n        !isReject && setAppNonce(appNonce + 1)\n      })\n  }\n\n  // update a transaction bundle\n  const updateTransactionBundle = (transactionBundle: TransactionBundle) => {\n    let list = transactions.map((bundle: TransactionBundle) =>\n      bundle.hash === transactionBundle.hash ? transactionBundle : bundle)\n\n    // if the status is EXECUTED, then also update other transactions with the same nonce to REJECTED:\n    if (transactionBundle.status === TransactionStatus.EXECUTED) {\n      list = list.map((bundle: TransactionBundle) => {\n        if (bundle.transaction.data.nonce === transactionBundle.transaction.data.nonce &&\n          bundle.status === TransactionStatus.PENDING) {\n          const updatedTxBundle = { ...bundle, status: TransactionStatus.REJECTED }\n          storeTransaction(safe.getAddress(), updatedTxBundle)\n          return updatedTxBundle\n        }\n        return bundle\n      })\n    }\n\n    setTransactions(list)\n  }\n\n  const closeModalAndSwitchScreen = () => {\n    setShowTransactionInfo(false)\n    setSelectedTab(Screens.TRANSACTIONS)\n  }\n\n  return (\n    <section className=\"selectedSafe\">\n      <Navigation handleLogout={handleLogout} changeActive={changeActive} selected={selectedTab} />\n      {selectedTab === Screens.DASHBOARD && <Dashboard safe={safe} />}\n      {selectedTab === Screens.TRANSACTIONS && (\n        <TransactionsPanel\n          safe={safe}\n          transactions={transactions}\n          handleError={handleError}\n          addTransaction={addTransaction}\n          updateTransactionBundle={updateTransactionBundle}\n          walletAddress={walletAddress} />\n      )}\n      {selectedTab === Screens.ASSETS && <AssetsComponent safe={safe} handleError={handleError} addTransaction={addTransaction} />}\n      {selectedTab === Screens.POLICY && <PolicyComponent safe={safe} addTransaction={addTransaction} handleError={handleError} />}\n\n      {showTransactionInfo && <TransactionCreatedModal closeModal={() => setShowTransactionInfo(false)} changeScreen={closeModalAndSwitchScreen} />}\n    </section>\n  )\n}\n\nexport default SafeInteraction\n","import React, { useState } from 'react'\nimport { isAddress } from '@ethersproject/address'\n\ninterface Interface {\n  connectAddress: string | null\n  handleError: (error: Error) => void\n  createSafe: (addresses: string[], threshold: number) => void\n}\n\nconst CreateSafeComponent: React.FC<Interface> = ({ connectAddress, createSafe, handleError }) => {\n  const [addresses, setAddresses] = useState<string[]>([connectAddress ? connectAddress.toLowerCase() : ''])\n  const [threshold, setThreshold] = useState<number>(1)\n\n  const changeAddressValue = (evt: any) => {\n    const changeIndex = parseInt(evt.target.id.replace('address', ''))\n    const updateList = addresses.map((item: string, index: number) => index === changeIndex ? evt.target.value.toLowerCase() : item)\n    setAddresses(updateList)\n  }\n\n  const removeAddress = (changeIndex: number) => {\n    const updateList = addresses.filter((_item: string, index: number) => index !== changeIndex)\n    setAddresses(updateList)\n  }\n\n  const validateSafeSettings = () => {\n    const errorList: number[] = []\n    addresses.forEach((address: string, index: number) => {\n      if (!isAddress(address)) {\n        errorList.push(index + 1)\n      }\n    })\n\n    if (errorList.length !== 0) {\n      handleError(new Error(`Incorrect Addresses for: ${errorList.toString()}`))\n      return false\n    }\n\n    createSafe(addresses, threshold)\n  }\n\n  const loopOptions = (length: number) => {\n    const items = []\n    for (let index = 0; index < length; index++) {\n      items.push(<option key={index} value={index + 1}>{index + 1}</option>)\n    }\n    return items\n  }\n\n  return (\n    <div>\n      <h4>Create a new safe</h4>\n      <p>\n        A safe can have any number of owners associated with it. Your connected address has been added as the first account.<br/>\n        Click the <em>Add address</em> button to add additional addresses, and the <em>delete button</em> to remove addresses.\n      </p>\n\n      <ul>\n        {addresses.map((address: string, index: number) => (\n          <li key={index}>\n            <label>Address {index + 1}: </label>\n            <input type=\"text\"\n              id={`address${index}`}\n              value={address}\n              onChange={changeAddressValue}\n              className={`address${index}`}\n            />\n            <button className={`removeAddress${index}`} onClick={() => removeAddress(index)}>delete</button>\n          </li>\n        ))}\n      </ul>\n      <button className=\"addAddress\" onClick={() => setAddresses([...addresses, ''])}>Add address</button>\n\n      <p>Transactions require the confirmation of at least{' '}\n        <select className=\"threshold\" value={threshold.toString()} onChange={evt => setThreshold(parseInt(evt.target.value))}>\n          {loopOptions(addresses.length)}\n        </select>\n        signatures.\n      </p>\n      <button className=\"submit\" disabled={addresses.length === 0} onClick={validateSafeSettings}>Create Safe</button>\n    </div>\n  )\n}\n\nexport default CreateSafeComponent\n","import React, { useState } from 'react'\n\ninterface Interface {\n  connectToSafe: (safeAddress: string) => void\n  pastSafes: string[]\n}\n\nconst ConnectToSafeComponent: React.FC<Interface> = ({ connectToSafe, pastSafes }) => {\n  const [safeAddress, setSafeAddress] = useState<string>('')\n\n  return (\n    <div>\n      <h3>Connect to an existing safe</h3>\n      <label>Safe address</label>\n      <input className=\"safeAddress\" type=\"text\" value={safeAddress} onChange={evt => setSafeAddress(evt.target.value)} />\n      <button className=\"connect\" onClick={() => connectToSafe(safeAddress)}>Connect</button>\n\n      {pastSafes && pastSafes.length !== 0 && (\n        <>\n          <h4>Past Safes:</h4>\n          <ul>\n            {pastSafes.map((address: string) => (\n              <li key={address}>\n                <button\n                  className=\"icon\"\n                  onClick={() => connectToSafe(address)}>{address}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default ConnectToSafeComponent\n","import React, { useState, useEffect } from 'react'\nimport EthersSafe, { Safe } from '@gnosis.pm/safe-core-sdk'\nimport { EthersSafeFactory } from '@rsksmart/safe-factory-sdk'\nimport { ethers } from 'ethers'\n\nimport CreateSafeComponent from './CreateSafeComponent'\nimport ConnectToSafeComponent from './ConnectToSafeComponent'\nimport { getContracts } from '../../config'\nimport LoadingComponent from '../../components/LoadingComponent'\nimport { getSafeAddresses } from '../../helpers/localStorage'\n\ninterface Interface {\n  web3Provider: any\n  chainId: number\n  handleSetSafe: (safe: Safe | EthersSafe) => any\n  handleError: (error: Error) => void\n  address: string | null\n}\n\nconst ChooseSafe: React.FC<Interface> = ({ web3Provider, chainId, handleSetSafe, handleError, address }) => {\n  // UI variables\n  const [isCreate, setIsCreate] = useState<boolean>(false)\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [pastSafes, setPastSafes] = useState<string[]>([])\n\n  useEffect(() => { setPastSafes(getSafeAddresses(chainId)) }, [])\n\n  // Create a new safe:\n  const createSafe = (addresses: string[], threshold: number) => {\n    setIsLoading(true)\n\n    const contracts = getContracts(chainId)\n    const provider = new ethers.providers.Web3Provider(web3Provider)\n\n    const signer = provider.getSigner()\n\n    const safeFactory = new EthersSafeFactory(\n      signer,\n      contracts.proxyFactoryAddress.toLowerCase(),\n      contracts.safeSingletonAddress.toLowerCase()\n    )\n\n    safeFactory.createSafe({ owners: addresses, threshold })\n      .then(handleSetSafe)\n      .catch(handleError)\n      .finally(() => setIsLoading(false))\n  }\n\n  // Connect to an existing safe:\n  const connectToSafe = (safeAddress: string) => {\n    setIsLoading(true)\n\n    const provider = new ethers.providers.Web3Provider(web3Provider)\n    const signer = provider.getSigner()\n\n    EthersSafe.create(ethers, safeAddress.toLowerCase(), signer)\n      .then(handleSetSafe)\n      .catch(handleError)\n      .finally(() => setIsLoading(false))\n  }\n\n  return isLoading ? <LoadingComponent />\n    : (\n      <section className=\"connect panel\">\n        <h2>\n        Create a safe, or connect to an existing one\n          <button onClick={() => setIsCreate(!isCreate)}>\n            {isCreate ? 'Connect to Safe' : 'Create Safe'}\n          </button>\n        </h2>\n        {isCreate ? (\n          <CreateSafeComponent\n            createSafe={createSafe}\n            handleError={handleError}\n            connectAddress={address}\n          />\n        ) : (\n          <ConnectToSafeComponent\n            pastSafes={pastSafes}\n            connectToSafe={connectToSafe}\n          />\n        )}\n      </section>\n    )\n}\n\nexport default ChooseSafe\n","import React from 'react'\nimport { version } from '../../package.json'\n\nconst FooterComponent: React.FC = () => {\n  return (\n    <section className=\"footer\">\n      <p>This is a sample app and should not be used with real funds.</p>\n      <p>Copyright Â© 2021 IOV Labs. All rights reserved.</p>\n      <p>Version: {version}</p>\n    </section>\n  )\n}\n\nexport default FooterComponent\n","import React, { useState } from 'react'\nimport RLogin from '@rsksmart/rlogin'\nimport { Safe } from '@gnosis.pm/safe-core-sdk'\n\nimport './styles/App.scss'\nimport Web3Provider from './pages/start/ConnectWalletComponent'\nimport ConnectedBar from './components/ConnectedBar'\nimport SafeInteraction from './pages/safeInteraction'\nimport ChooseSafe from './pages/connectToSafe'\nimport FooterComponent from './components/FooterComponent'\nimport { saveSafeAddressToLocalStorage } from './helpers/localStorage'\n\nconst rLogin = new RLogin({\n  cacheProvider: false,\n  supportedChains: [4, 31, 1337]\n})\n\nfunction App () {\n  const [error, setError] = useState<null | string>('')\n\n  // Web3Provider and Safe variables\n  const [rLoginResponse, setRLoginResponse] = useState<{ provider: any, disconnect: any } | null>(null)\n  const [safe, setSafe] = useState<Safe | null>(null)\n\n  // provider variables\n  const [address, setAddress] = useState<string | null>(null)\n  const [chainId, setChainId] = useState<number | null>(null)\n\n  const web3ProviderResponse = (response: any, address: string, chainId: number) => {\n    setRLoginResponse(response)\n    setAddress(address)\n    setChainId(chainId)\n\n    // listen for address change and update:\n    response.provider.on('accountsChanged', (accounts: string[]) => setAddress(accounts[0]))\n  }\n\n  const handleSetSafe = (safe: Safe) => {\n    setSafe(safe)\n    handleError(null)\n    chainId && saveSafeAddressToLocalStorage(safe.getAddress(), chainId)\n  }\n\n  const handleError = (error: Error | null) => error ? setError(error.message) : setError(null)\n\n  const handleLogout = () => {\n    rLoginResponse?.disconnect()\n    setRLoginResponse(null)\n    setSafe(null)\n    setError(null)\n    setAddress(null)\n    setChainId(null)\n  }\n\n  return (\n    <div className={rLoginResponse ? 'App' : 'App signin'}>\n      {!rLoginResponse ? (\n        <Web3Provider\n          rLogin={rLogin}\n          setRLoginResponse={web3ProviderResponse}\n          handleError={handleError}\n        />\n      ) : <ConnectedBar chainId={chainId} walletAddress={address} />\n      }\n\n      {error && (\n        <section className=\"error\">\n          <p>{error}</p>\n          <button onClick={() => handleError(null)}>x</button>\n        </section>\n      )}\n\n      {rLoginResponse && chainId && !safe && (\n        <ChooseSafe\n          web3Provider={rLoginResponse.provider}\n          chainId={chainId}\n          handleSetSafe={handleSetSafe}\n          handleError={handleError}\n          address={address}\n        />\n      )}\n\n      {rLoginResponse && address && safe && (\n        <SafeInteraction\n          safe={safe}\n          walletAddress={address}\n          handleLogout={handleLogout}\n          handleError={handleError}\n        />\n      )}\n\n      {rLoginResponse && <FooterComponent />}\n    </div>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}